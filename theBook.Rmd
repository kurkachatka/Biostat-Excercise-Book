---
title: "theBook"
author: "M. Witkowska, M. Szewczyk, P. Bodson, K.Piening"
output:
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = FALSE)
```

# Lab 1

## Instalacja R i RStudio

R Studio to IDE (zintegrowane srodowisko programistyczne) dla jezyka programowania R. Mozna myslec o nim jak o nakladce, ktora ulatwia prace, R natomiast jest 'silnikiem' wszystkich operacji. Instrukcje instalacji **obu** mozna znalezc [pod tym linkiem](https://posit.co/download/rstudio-desktop/){.uri}.

R jest i bedzie darmowy

```{r}
licence()

```

Jak cytowac R?

```{r}
citation()

```

Jak cytowac uzywane pakiety?

```{r}
citation(package ='tidyverse')

```

## Skroty klawiszowe (dla Windowsa)

-   'Pusc' kod : CTRL + ENTER

-   Wstaw operator przypisania `<-` : ALT + -

-   Wstaw operator potokowy (pipe) `%>%` : CTRL + SHIFT + M

-   Zaznacz : SHIFT + STRZALKA

-   Zaznacz cale slowo: CTRL + SHIFT + STRZALKA

-   Zamien kod na komentarz (lub odwortnie) CTRL + SHIFT + C

## Podstawy kodowania

1.  Uzyj R jak kalkulatora.

```{r}
1+1

2*3 + 5

6/3

4*(5+5)
```

2.  Transformuj liczby

```{r}

log10(100)

6^2

sqrt(4/2)


```

3.  Tworz notatki do kodu uzywajac `#`

```{r}

# Tu obliczam swoje BMI

60/(1.73^2) # zauwaz ze w R separator dziesietny to kropka, nie przecinek


```

> TIP: Dodawanie komentarzy do kodu jest niesamowicie wazne! Nie ma nic gorszego, niz wrocic do swojego kodu po miesiacu i nie byc w stanie go zrozumiec

## Przypisywanie zmiennych

1.  Uzywajac znaku przypisania mozesz stowrzyc element w srodowisku o konretnej wartosci

```{r}

x <- 2

y <- 10

```

2.  Elementy ze srodowiska mozna wywolywac, najprosciej uzywajac ich nazw, lub uwyzwajac funkcji `print()`

```{r}
x

print(y)

```

> TIP: Funkcje w R maja format **nazwa_funckji(arg1 = wartosc1, arg2 = wartosc2)**. Fukcje sa zawarte w pakietach, ale mozna je tez tworzyc samemu!

3.  Na elementach ze srodowiska mozna przeprowadzac rozne czynnosci

```{r}

x + y

y/5

x * pi # zwroc uwage, ze pi jest zmienna zakodowana na stale w R, mimo ze nie istnieje w srodowisku

```

4.  Nazywanie elementow

Wielkosc liter ma znaczenie

```{r}

zmienna <- x/y

print(Zmienna)

print(zmienna)

```

Nazwy zmiennych nie moga zaczynac sie od cyfr lub podkreslenia. Oprocz tego istnieje dowolnosc w nazywaniu elementow srodowiska, z wyjatkiem: FALSE/TRUE, Inf (infinity), NaN (not a number), NA (not avaiable), NULL

> TIP: Dlugie nazwy elementow w srodowisku mozna rozbijac (nie spacja!), aby zwiekszyc ich czytelnosc. Znane sposoby to: snake_case, leopard.case, CamelCase

5.  Zmienna nie musi byc liczba

```{r}

h <- 'hello'

print(h)

imie.nazwisko <- 'Marta Witkowska'

imie.nazwisko
```

## Skale pomiarowe i typy zmiennych

Zmienne moga wystepowac w 4 roznych skalach pomiarowych, ktore mozna podzielicz na dwa typy:

-   skala ciagle (ilościowe) - zmienne przyjmuja dowone, nieskonczenie podzielne wartosci liczbowe w okreslonym przedziale

    -   skala interwałowa

    -   skala ilorazowa

-   skala dyskretne (jakościowe) - zmienne przyjmuja okreslone, odrebne wartosci

    -   skala nominalna

    -   porzadkowa

Elementy srodowiska, w tym zmienne, maja okreslona klase. Definiuje ona jak sa przechowywane i jakie operacja mozna na nich wykonywac. Najwazniejsze klasy to:

-   `numeric` - numeryczna

-   `integer`- calkowita, okreslana za pomoca `L`

-   `character` - tekstowa

-   `factor` - czynnikowa, okresla kategorie

Klasy obiektow i skale pomiarowe to zagadnienia, ktore sie ze soba lacza. Zmienne, ktore sa w skalach ciaglych powinny miec klase `numeric`. Zmienne w skalach dyskretnych powinny byc zakodowane jako klasy `character` lub `factor`. W zaleznosci od przypadku klasa `integer` moze byc odpowednia dla zmiennych w obu typach skali.

1.  Sprawdz klase danej zmiennej uzywajac funckji `class()`

```{r}

nr <- 365

class(nr)

gat <- 'Calidris pugnax'

class(gat)
```

2.  Sprawdz klase danej zmiennej uzywajac funckji `is.XXX()`

```{r}

is.numeric(nr)

is.factor(nr)

is.integer(gat)

is.character(gat)

```

3.  Zmien klase obieku uzywajac funckji `as.XXX()`. Zwroc uwage, ze obiekt musi byc nadpisany w srodowisku

```{r}

as.integer(nr)

class(nr) # nie ma zmiany, poniewaz nr nie zostal nadpisany w srodowisku

nr <- as.integer(nr)

class(nr) # dziala! Zwroc uwage, ze w srodowisku przy liczbie w nr pojawilo sie L

# ____________________________________________________________________

nr <- as.character(nr)

print(nr)

nr + 2 # niemozliwe do wykonania
```

4.  Zmiany klasy nie dzialaja we wszystkie strony

```{r}

ulamek <- 0.6

ulamek <- as.integer(ulamek)

print(ulamek) # utrata informacji poprzez zaokraglenie

# ____________________________________________________________________

gat <- as.numeric(gat)

print(gat) # utrata informacji


```

> TIP: Nieodpowiednia klasa obieku w srodowisku to jeden z najczestrzych powodow, dla ktorych studenci nie sa w stanie wykonac dane zadanie!

## Pomocy!

1.  Nie ignoruj tego co dzieje sie w srodowisku. Jezeli R cos nie pasuje, to R to komunikuje.

```{r}

h + x 

```

> TIP: Bledy i komunikaty ostrzegawcze czesto sa niezrozumiale, zwlaszcza na poczatkowym etapie nauki. W tych wypadkach internet jest Twoim przyjacielem.

2.  Blad ≠ Komunikat ostrzegawczy

Blad - egzekwowanie kodu jest zatrzymana

Komunikat otrzegawczy - kod jest egzekwowany ale cos jest nie tak

3.  Komunikat +

```{r}

galmed <- 'Gallinago media

```

W konsoli pojawia sie `+`. Informuje nas o tym, ze formula nie jest skonczona. Np. brakuje zamknietego nazwiasu, albo jak w tym przypadku cudzyslowa. Probowanie wyzwalania kolejnych funckji bedzie kumulowalo skutki tego bledu. Zeby to rozwiazac wejdz w konsole i albo dopisz brakujacy znak (tutaj ') i wyzwol. Albo wejdz w konsole, klikjni ESC, aby zakonczyc zadanie, popraw formule kodu i pusc jeszcze raz.

Help

Każda pakiet i zawarte w nich fukcje sa dokladnie opisane w ich dokumentacji. Mozna ja wywolac uzywajac `?` przed nazwa danej funckji

```{r}

?rm()

?print()

```

## Cofnij?

1.  W kodowaniu komenda cofinij nie istnieje, a CTRL + Z tylko usunie ostatnio napisany kod (jak Backspace). Robienie wszelkich poprawek polega na nadpisywaniu.

```{r}

# wydaje mi sie, ze z to 4 * 6

z <- 4 * 6

z

# oops, jednak to 4 * 5

z <- 4 * 5 # lub zmien na odpowiednia wartosc w kodzie wyzej i pusc dana linijke jeszcze raz

z

```

2.  Jezeli potrzebujesz, mozesz usunac dany element ze srodowiska

```{r}

a <- 'niepotrzebna'

print(a)

rm(a)

print(a)

```

3.  Mozesz tez wyczyszczyc cale srodowisko

```{r}

rm(list = ls())

```

Czy taki zabieg zniweczyl caladotychczasowa prace? Jezeli korzystasz ze skryptu i od czasu do czasu go zapisujesz, to abolutnie NIE! Aby otworzyc dane elementy srodowiska wystarczy puscic kod od poczatku, oczywiscie w odpowiedniej kolejnosci.

4.  A co jezeli nie pracujesz w skrypcie, tylko w konsoli?

Po pierwsze - nie polecam. Po drugie - w trakcie dzialania danej sesji mozesz zawsze odniesc sie do historii. Postaw kursor w konsoli i kilknij strzelke w gore (nawet pare razy). Mozesz spobowac tez uzyc skrotu klawiszowego CTRL + arrow up aby zobaczyc wiekszy przeglad. Ostatecznie calosc historii znajdziesz w zakladce 'History' w tym samym panelu, w ktorym znajduje sie srodowisko. Kliknij dwa razy aby przywolac dana komende do konsoli.

## Cwiczenia

### CW 1

Jaka jest roznica?

```{r}
#a
2+2

#b
2 + 2
```

<details>

<summary>ODP 1</summary>

Nie ma zadnej w znaczeniu kodu. Znaki takie jak spacja i enter wiekszosci przypadkow sa 'pomijane' przy egzekwowaniu kodu. Wstawianie tych znakow sprawia, ze kod jest bardziej czytelny. Dobra praktyka jest 'pozwolic kodowi oddychac'.

</details>

### CW 2

Jaka jest roznica?

```{r}

#a
x <- 2

#b
x < - 2

```

<details>

<summary>ODP 2</summary>

Nie wszystkie znaki mozna rozdzilic spacja. Np. rozdzielane spacja operatory przypisania `<-` i potokowy `%>%` (o ktorym bedzie pozniej) sprawi, ze nie beda one dzialaly poprawnie

</details>

### CW 3

Wklej ponizszy kod do swojego skryptu. Podazaj za tekstem i poleceniami opisanymi komentarzami

```{r}
# ----- LAB 1 --------
## ------ PROBLEM 1 ------------

# Czy warto stosowac komentarze podczas kodowania?

### ================= Rozwiazanie 1 =======================

# Oprocz dodawania kometnarzy opisowych, # pozwala rowniez tworzyc sekcje w kodzie
# Uzyj skrotu klawiszowego SHIFT + CTRL + O aby otowrzyc 'Outline' dokumentu ('zarys')
# alternatywnie mozesz kliknac przycisk w prawym gornym rogu skryptu, po prawej od 'Source'


# Zwroc uwage, ze liczba hasztagow na poczatku lini wskazuja, jakiego rzedu
# jest dany naglowek.
# Tutaj LAB1 Zawiera w sobie PROBLEM 1 i PROBLEM 2.
# PROBLEM 1 zawiera w sobie Rozwiazanie 1 i Rozwiazanie 2. 
# ITD.


### ================= Rozwiazanie 2 =======================

# Aby wydzielic sekcje uzywa sie przynajmniej 4 - lub = w ciagu.
# Jezeli dodasz spacje, np. aby wstawic nazwe sekcji, po tym elemencie rowniez 
# musza sie pojawic 4 - lub =

## ------- PROBLEM 2 -----------

# Samodzielnie swtorz sekcje Rozwiazanie 1 w obrebie PROBLEMU 2

# Zwroc uwage na to co stanie sie z kursorem, jezeli klikniesz na dana sekcje w 'Outline' dokumentu

# Co stanie sie jezeli klikniesz na male strzalki przy numerze wiersza obok danego naglowka sekcji?

# Do zwiajania i rozwijania poszczegolnych sekcji mozna tez uzywac ALT + L i SHIFT + ALFT + L 

# Do zwiniecia i rozwiniecia wszystkich sekcji mozna uzyc ALT + O i SHIFT + ALT + O

```

### CW 4

Dlaczego nie mozna wykonac ponizszego dzialania?

```{r}

N <- '15'

N*2

```

<details>

<summary>ODP 4</summary>

Przez uzycie `''` zmienna N jest w skali dyskretnej (klasa `character`).

</details>

### CW 5

Czemu ten kod nie dziala?

```{r}

my_variable <- 10
my_varıable

```

<details>

<summary>ODP 5</summary>

Jedna literka roznicy sprawia, ze R nie jest w stanie znalezc takiej zmiennej. Nie istnieje ona w srodowisku

</details>

# Lab 2

## Wektory

To podstawowa, wieloelementowa struktura danych tej samej klasy.

1.  Stowrz wektor uzywajac funckji `c()`

```{r}

wektor <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)

print(wektor)

```

2.  Wykonaj proste operacje na wektorze

```{r}

wektor.r.2 <- wektor * 2

print(wektor.r.2)

wektor.minus <- wektor.r.2 - 3

print(wektor.minus)
```

> TIP: Czy zauwazyles mozliwosc autouzupelniania? Kiedy R pokazuje podpowada nam obiekt ze srodowiska / funkcje mozesz uzyc strzalek do ich wyboru i TAB do zaakceptowania.

3.  Stworz wektory za pomoca operatora `:`, ktory sluzy do generowania sekwencji. Sprawdz dlugosc wektora, tzn. liczbe jego elementow, uzywajac funckji `length()`

```{r}

# operator : generuje z zakresu start:end

w1 <- 1:5

w2 <- 1.1:5.5

w3 <- -7.5:0.5

length(w1)

length(w2)

length(w3)

```

4.  Wykonaj operacje na dwoch wektorach o tej samej dlugosci

```{r}

w1 - w2


```

5.  Wykonanie operacji na dwoch wektorach roznej dlugosc

W takim wypadku, krotszy wektor zostaje uzyty cyklicznie. Jezeli dlugosc krotszego nie jest wielokrotnoscia dlugosci dluzszego, wyswietlany jest komunikat ostrzegawczy

```{r}

w1 * w3

```

6.  Stworz wektor tesktowy

```{r}

pory <- c('zima', 'wiosna', 'lato', 'jesien')

print(pory)

```

## Dostep do elementow wektora

Aby dostac sie do danych elementow wektora na konretnej pozycji uzywa sie operatora indeksowani/podzbioru `[]`

1.  Dostan sie do elementu na danej pozycji wektora

```{r}

w1[1]

pory[3]

wektor.minus[5]
```

2.  Dostan sie do kilku elementow w wektorze

```{r}

# z zakresu

w3[2:4]

# na kilku wybranych pozycjach

wektor.r.2[c(1, 5)]

# combo

w1[c(1:3, 5)]

```

## `NA`
